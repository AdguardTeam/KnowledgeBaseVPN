---
title: 'AdGuard VPNプロトコルの仕組み'
sidebar_position: 4
---

AdGuard VPNプロトコルは、 [すべてのAdGuard VPNモバイルおよびデスクトップアプリ](https://adguard-vpn.com/ja/welcome.html)で使用されています。 データが最も安全な方法で保護されていますので、安心してAdGuard VPN製品をダウンロードしてご利用いただけます。

<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/7149L3xPmSE" title="YouTubeビデオプレーヤー" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## AdGuard VPNプロトコルを開発した理由

何年もの間、私たちはあらゆる種類の広告ブロックアプリやブラウザ拡張機能の開発に集中していました。 そして2019年、一見唐突に、独自のVPNサービスを開発することを決意しました。 実際、そうするよう決めたことには、いくつかの理由がありました。

* AdGuard広告ブロッカーアプリは、あらゆるVPNアプリとの互換性に問題がありました。 通常、2つのVPNベースモバイルアプリは一緒に動作することができません。iOSではこれはごく稀に可能で、Androidでは決して不可能です。 AdGuard広告ブロックアプリは、ローカルVPNを使用してネットワークトラフィックをフィルタリングするため、VPNアプリと併用することは論外と言えるくらいでした。 そこで、互換性を保証できる唯一のソリューションとして、独自でVPNを開発するしかないようでした。いくつかの対策を導入することで、2つのアプリが1つのVPNサービスとして機能するようにしました。
* 第二の理由は、VPNは私たちのフィロソフィーや価値観に十二分関連していたからです。 私たちの最大の目標は、ユーザーのプライバシーを保護することであり、これこそがVPNの目的なのです。
* さらに、AdGuardソフトウェアの長年の開発を通じて、ネットワークトラフィックのフィルタリングの専門家になっていました。 そのため、他の気ままなVPNになることなく、新しいものを取り入れることができたのです。

当初から、AdGuard VPNが競合他社と決定的に異なるのは、セキュリティとスピードのどちらかを選ぶ必要がない点になる決め、独自のVPNプロトコルを開発することにしました。

## 人気なVPNプロトコルのデメリット

人気なVPNプロトコル（OpenVPN、WireGuard、IPSecなど）の欠点に着目し、AdGuard VPNプロトコルを開発しました。

* ネットワークレベルで簡単に検出され、ブロックされます。
* プロトコルを"隠そう"とすると、パフォーマンスが落ちてしまいます。

VPNの使用を「隠す」ために、データの流れはしばしばTCP接続で"包まれ"、時にはトラフィックを通常のウェブサイト接続のように見せるために追加的に暗号化されます。 残念ながら、このアプローチには欠点があります。TCPが使用されるため、追加の送達確認が必要なのです。

一般的なVPNプロトコルを使用する場合、高速だが検知しやすい、遅いが検知が難しい、という選択をしないといけません。

## AdGuard VPNプロトコルのメリット

* *通常のHTTPSトラフィックと区別することがほぼ不可能*なため、AdGuard VPNサーバへの接続は、通常のウェブサイトへの接続と全く同じに見えます。
* 暗号化には**HTTPS (TLS)**を使用しております。 世界で最も普及している暗号化方式であり、これを実装するライブラリに対しては常に定期セキュリティ監査が行われています。

既存のVPNプロトコルの中には、暗号化課題を処理するものもあり、それら（ひいてはVPNを使用していることも）は検知されにくいです。 しかし通常、速度の低下という代償を伴います。 AdGuard VPNプロトコルの場合、いくつかの対策によって、速度が低下しないようにすることができました。

* **HTTP/2トランスポートプロトコル**を使用しており、このプロトコルは高速性を維持しながらAdGuard VPNプロトコルの検出を事実上不可能にしてくれます。
* 他のものとは異なり、AdGuard VPNプロトコルは*パケットではなくデータをもとに動作します*。 どういうことかと言いますと、AdGuard VPNは各接続に対して個別の「トンネル」を確立し、各HTTP/2ストリームは1つの接続に対応します。 AdGuard VPNは、このトンネルを介してデータを転送します。 これにより、複数のパケットのデータを1つにまとめてバッファリングしてから、VPNサーバーに送信する（またはサーバーからクライアントに送信する）ことが可能なため、確認用パケットを節約して動作を高速化することができるのです。 パケット数が少なければ少ないほど、確認も少なくて済みます。